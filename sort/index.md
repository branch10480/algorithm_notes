# ソート

各種ソートアルゴリズムの比較

|種類|平均時間計算量|最悪計算量|追加で必要な<br>外部メモリ容量|安定|備考|
|:---|:---|:---|:---|:---|:---|
|挿入ソート|O(N^2)|O(N^2)|O(1)|true|初等整理法としてまずまずの性能|
|マージソート|O(NlogN)|O(NlogN)|O(N)|true|最悪時の計算量もO(NlogN)と高速|
|クイックソート|O(NlogN)|O(N^2)|O(NlogN)|false|最悪時の計算量はO(N^2)だが、実用上は表中で最も高速|
|ヒープソート|O(NlogN)|O(NlogN)|O(1)|false|ヒープを有効に活用|
|バケットソート|O(N + A)|O(N + A)|O(N + A)|true|ソートしたい値が 0 以上 A 未満の整数の場合に活用できる。Aが小さい場合に有効。|

## 計算量 O(N^2) -> O(NlogN) になる利点

アルゴリズムの計算量を O(N^2) を O(NlogN) にできることは多くの場面で意味を持ちます。

N=1000000 のデータ量で標準的なコンピューターで約30分以上の時間が必要ですが、 O(NlogN) の計算量ではたった 3 ミリ秒ほどの時間で処理を終えることができます。

## ソートアルゴリズムの良し悪し

ソートアルゴリズムの良し悪しは以下の尺度で評価します。

- 計算量
- 追加で必要な外部メモリ容量 **(in-place性)**
- 安定ソートかどうか **(安定性)**

### in-place性

**外部メモリをほとんど必要としない** 性質のことを **in-place性** といいます。

該当するソートアルゴリズムは

1. 挿入ソート
2. ヒープソート

アルゴリズムが in-place であることは組み込み系のプログラミングなど限られた資源の環境では重宝されます。

### 安定性 (stable)

安定性があるとは、 **ソートの前後で同一の値を持つ要素間で順序関係が保たれる** ことを言います。

#### 安定なソート

- 挿入ソート
- マージソート

#### 安定でないソート

- クイックソート
- ヒープソート

## ソートアルゴリズムの使いこなし方

現代ではコンピュータ資源が豊富になったことや、各言語の標準ライブラリの性能が向上したことで、ほとんどの場面では各言語の標準ライブラリを用いれば十分です。

安定なソートを使うかと大まかな計算量に気を向けます。

例えば、C言語では2つのソート関数があります。

- std::sort() ... 安定とは限らないが高速
- std::stable_sort() ... 安定であることが保証されている



